<!doctype html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Deoleo. L√≠der Mundial del Aceite de Oliva</title>
    <!-- Favicon icon -->
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./images/favicon.png"
    />
    <link
      href="./vendor/pg-calendar/css/pignose.calendar.min.css"
      rel="stylesheet"
    />
    <link href="./vendor/chartist/css/chartist.min.css" rel="stylesheet" />
    <link href="./css/style.css" rel="stylesheet" />

  </head>

  <body>
    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
      <div class="sk-three-bounce">
        <div class="sk-child sk-bounce1"></div>
        <div class="sk-child sk-bounce2"></div>
        <div class="sk-child sk-bounce3"></div>
      </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">
      <!--**********************************
            Nav header start
        ***********************************-->
      <div
        class="nav-header"
        style="
          background: #52525c;
          padding: 15px 20px;
          border-bottom: 2px solid #fdfdfd;
        "
      >
        <a href="dasboard.html" class="brand-logo">
          <img
            src="./images/logogris.webp"
            alt="Deoleo"
            style="width: 160px; filter: brightness(3.5) contrast(0.8)"
          />
        </a>
      </div>
      <!--**********************************
            Nav header end
        ***********************************-->

      <!--**********************************
            Header start
        ***********************************-->
      <div class="header">
        <div class="header-content">
          <nav class="navbar navbar-expand">
            <div class="collapse navbar-collapse justify-content-between">
              <div class="header-left">
                <div class="search_bar dropdown">
                  <span
                    class="search_icon p-3 c-pointer"
                    data-toggle="dropdown"
                  >
                    <i class="mdi mdi-magnify"></i>
                  </span>
                  <div class="dropdown-menu p-0 m-0">
                    <form>
                      <input
                        class="form-control"
                        type="search"
                        placeholder="Buscar empleado..."
                        aria-label="Search"
                      />
                    </form>
                  </div>
                </div>
              </div>

              <ul class="navbar-nav header-right">
                <li class="nav-item dropdown notification_dropdown">
                  <a
                    class="nav-link"
                    href="#"
                    role="button"
                    data-toggle="dropdown"
                  >
                    <i class="mdi mdi-bell"></i>
                    <div class="pulse-css"></div>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right">
                    <ul class="list-unstyled">
                      <li class="media dropdown-item">
                        <span class="success"><i class="ti-user"></i></span>
                        <div class="media-body">
                          <a href="#">
                            <p>
                              <strong>Nuevo contrato</strong> para Carlos Ruiz
                              en IT
                            </p>
                          </a>
                        </div>
                        <span class="notify-time">10:30 am</span>
                      </li>
                      <li class="media dropdown-item">
                        <span class="primary"><i class="ti-calendar"></i></span>
                        <div class="media-body">
                          <a href="#">
                            <p>
                              <strong>Solicitud de vacaciones</strong> de Laura
                              M√©ndez
                            </p>
                          </a>
                        </div>
                        <span class="notify-time">09:15 am</span>
                      </li>
                      <li class="media dropdown-item">
                        <span class="danger"><i class="ti-alert"></i></span>
                        <div class="media-body">
                          <a href="#">
                            <p>
                              <strong>Incidencia reportada</strong> baja m√©dica
                            </p>
                          </a>
                        </div>
                        <span class="notify-time">08:45 am</span>
                      </li>
                      <li class="media dropdown-item">
                        <span class="primary"><i class="ti-book"></i></span>
                        <div class="media-body">
                          <a href="#">
                            <p>
                              <strong>Formaci√≥n completada</strong> por 15
                              empleados
                            </p>
                          </a>
                        </div>
                        <span class="notify-time">Ayer</span>
                      </li>
                      <li class="media dropdown-item">
                        <span class="success"><i class="ti-email"></i></span>
                        <div class="media-body">
                          <a href="#">
                            <p>
                              <strong>Evaluaci√≥n de desempe√±o</strong> pendiente
                              de revisi√≥n
                            </p>
                          </a>
                        </div>
                        <span class="notify-time">Ayer</span>
                      </li>
                    </ul>
                    <a class="all-notification" href="#"
                      >Ver todas las notificaciones
                      <i class="ti-arrow-right"></i
                    ></a>
                  </div>
                </li>
                <li class="nav-item dropdown header-profile">
                  <a
                    class="nav-link"
                    href="#"
                    role="button"
                    data-toggle="dropdown"
                  >
                    <i class="mdi mdi-account"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right">
                    <a href="#" class="dropdown-item">
                      <i class="icon-user"></i>
                      <span class="ml-2">Mi Perfil</span>
                    </a>
                    <a href="#" class="dropdown-item">
                      <i class="icon-envelope-open"></i>
                      <span class="ml-2">Mensajes</span>
                    </a>
                    <a href="#" class="dropdown-item">
                      <i class="icon-settings"></i>
                      <span class="ml-2">Configuraci√≥n</span>
                    </a>
                    <a href="#" class="dropdown-item">
                      <i class="icon-key"></i>
                      <span class="ml-2">Cerrar Sesi√≥n</span>
                    </a>
                  </div>
                </li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
      <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

      <!--**********************************
            Sidebar start
        ***********************************-->
      <div class="quixnav">
        <div class="quixnav-scroll">
          <ul class="metismenu" id="menu">
            <li class="nav-label first"></li>

            <li>
              <a href="dasboard.html" aria-expanded="false">
                <i class="icon icon-single-04"></i>
                <span class="nav-text">Dashboard</span>
              </a>
            </li>
            <li class="nav-label">INTELIGENCIA ARTIFICIAL</li>
            <li>
              <a href="inteligencia.html" aria-expanded="false">
                <i class="icon icon-world-2"></i>
                <span class="nav-text">Asistente Virtual RRHH</span>
              </a>
            </li>
            <li class="nav-label">ANALTICS</li>
            <li>
              <a href="kpis.html" aria-expanded="false">
                <i class="icon icon-world-2"></i>
                <span class="nav-text">KPIs interactivos</span>
              </a>
            </li>
            <li class="nav-label">CENTRO DE ALERTAS</li>
            <li>
              <a href="alertas.html" aria-expanded="false">
                <i class="icon icon-world-2"></i>
                <span class="nav-text">Alertas</span>
              </a>
            </li>

            <li class="nav-label">Configuraci√≥n</li>
            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-layout-25"></i>
                <span class="nav-text">Configuraci√≥n</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="gestion-departamentos.html">Departamentos</a></li>
                <li><a href="gestion-usuarios.html">Gesti√≥n de Usuarios</a></li>
              </ul>
            </li>

            <li class="nav-label">Administraci√≥n Sistema</li>
            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-single-copy-06"></i>
                <span class="nav-text">Gobierno de Datos</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="trazabilidad.html">Trazabilidad y Logs</a></li>
                <li>
                  <a href="fuentes-origen.html">Fuentes de Origen (API)</a>
                </li>
              </ul>
            </li>
            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-app-store"></i>
                <span class="nav-text">Empleados</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="#">Lista de Empleados</a></li>
                <li><a href="#">Fichas Personales</a></li>
                <li>
                  <a
                    class="has-arrow"
                    href="javascript:void()"
                    aria-expanded="false"
                    >Contratos</a
                  >
                  <ul aria-expanded="false">
                    <li><a href="#">Nuevo Contrato</a></li>
                    <li><a href="#">Contratos Activos</a></li>
                    <li><a href="#">Renovaciones</a></li>
                  </ul>
                </li>
                <li><a href="#">Bajas y Altas</a></li>
              </ul>
            </li>

            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-calendar-60"></i>
                <span class="nav-text">Ausencias</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="#">Vacaciones</a></li>
                <li><a href="#">Bajas M√©dicas</a></li>
                <li><a href="#">Permisos</a></li>
                <li><a href="#">Calendario</a></li>
              </ul>
            </li>

            <li class="nav-label">N√≥minas y Retribuci√≥n</li>
            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-chart-bar-33"></i>
                <span class="nav-text">N√≥minas</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="#">Generar N√≥minas</a></li>
                <li><a href="#">Hist√≥rico</a></li>
                <li><a href="#">Incentivos</a></li>
                <li><a href="#">Retribuci√≥n Flexible</a></li>
              </ul>
            </li>

            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-money-coins"></i>
                <span class="nav-text">Compensaci√≥n</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="#">Estructura Salarial</a></li>
                <li><a href="#">Beneficios</a></li>
                <li><a href="#">Bonos</a></li>
              </ul>
            </li>

            <li class="nav-label">Desarrollo y Formaci√≥n</li>
            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-world-2"></i>
                <span class="nav-text">Formaci√≥n</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="#">Plan de Formaci√≥n</a></li>
                <li><a href="#">Cursos Disponibles</a></li>
                <li><a href="#">Seguimiento</a></li>
                <li><a href="#">Certificaciones</a></li>
              </ul>
            </li>

            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-single-copy-06"></i>
                <span class="nav-text">Evaluaci√≥n</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="#">Desempe√±o</a></li>
                <li><a href="#">Objetivos</a></li>
                <li><a href="#">Competencias</a></li>
              </ul>
            </li>

            <li class="nav-label">Procesos RRHH</li>
            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-plug"></i>
                <span class="nav-text">Reclutamiento</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="#">Ofertas de Empleo</a></li>
                <li><a href="#">Candidatos</a></li>
                <li><a href="#">Entrevistas</a></li>
                <li><a href="#">Onboarding</a></li>
              </ul>
            </li>

            <li>
              <a
                class="has-arrow"
                href="javascript:void()"
                aria-expanded="false"
              >
                <i class="icon icon-form"></i>
                <span class="nav-text">Documentaci√≥n</span>
              </a>
              <ul aria-expanded="false">
                <li><a href="#">Contratos</a></li>
                <li><a href="#">Certificados</a></li>
                <li><a href="#">Informes</a></li>
                <li><a href="#">Plantillas</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
      <!--**********************************
            Sidebar end
        ***********************************-->

      <!--**********************************
            Content body start
        ***********************************-->
      <div class="content-body">
        <div class="container-fluid">
          <div class="row page-titles mx-0">
            <div class="col-sm-6 p-md-0">
              <div class="welcome-text">
                <h4 style="color: #0f5c00">¬°Hola, bienvenido!</h4>
              </div>
            </div>
            <div
              class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex"
            >
              <ol class="breadcrumb">
                <li class="breadcrumb-item active">
                  <a href="javascript:void(0)">Dashboard RRHH</a>
                </li>
                <li class="breadcrumb-item">
                  <a href="javascript:void(0)">Inteligencia Artificial</a>
                </li>
              </ol>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-header">
                  <h4 class="card-title">Asistente Virtual RRHH</h4>
                </div>
                <div class="card-body">
                  <div
                    class="chat-container"
                    style="
                      height: 1000px;
                      overflow-y: auto;
                      border: 1px solid #e0e0e0;
                      border-radius: 10px;
                      padding: 20px;
                      background-color: #f8f9fa;
                      display: flex;
                      flex-direction: column;
                    "
                  >
                    <!-- √Årea de mensajes -->
                    <div
                      class="chat-messages"
                      style="flex: 1; overflow-y: auto"
                    >
                      <!-- Mensaje del asistente -->
                      <div class="chat-message assistant-message mb-4 new">
                        <div
                          class="message-bubble"
                          style="
                            background: #e7e8eb;
                            color: black;
                            padding: 15px;
                            border-radius: 15px;
                            max-width: 80%;
                            margin-left: 0;
                          "
                        >
                          <div
                            class="message-header"
                            style="font-weight: bold; margin-bottom: 5px"
                          >
                            <i class="ti-robot"></i> Asistente RRHH
                          </div>
                          <div class="message-content">
                            ¬°Hola Juan! Soy tu asistente virtual de Recursos
                            Humanos. ¬øEn qu√© puedo ayudarte hoy? Puedo asistirte
                            con:
                            <br /><br />
                            ‚Ä¢ Consultas sobre empleados<br />
                            ‚Ä¢ Informaci√≥n de n√≥minas<br />
                            ‚Ä¢ Gesti√≥n de vacaciones<br />
                            ‚Ä¢ Procesos de contrataci√≥n<br />
                            ‚Ä¢ Y mucho m√°s...
                          </div>
                          <div
                            class="message-time"
                            style="
                              font-size: 11px;
                              opacity: 0.8;
                              margin-top: 5px;
                            "
                          >
                            <span class="time">10:30 AM</span>
                          </div>
                        </div>
                      </div>

                      <!-- Mensaje del usuario (ejemplo) -->
                      <div class="chat-message user-message mb-4 new">
                        <div
                          class="message-bubble"
                          style="
                            background: #e7e8eb;
                            color: #333;
                            padding: 15px;
                            border-radius: 15px;
                            max-width: 80%;
                            margin-left: auto;
                            margin-right: 0;
                          "
                        >
                          <div
                            class="message-header"
                            style="
                              font-weight: bold;
                              margin-bottom: 5px;
                              text-align: right;
                            "
                          >
                            Juan Moleres <i class="ti-user"></i>
                          </div>
                          <div class="message-content">
                            Hola, ¬øpuedes mostrarme el n√∫mero total de empleados
                            activos?
                          </div>
                          <div
                            class="message-time"
                            style="
                              font-size: 11px;
                              opacity: 0.8;
                              margin-top: 5px;
                              text-align: right;
                            "
                          >
                            <span class="time">10:32 AM</span>
                          </div>
                        </div>
                      </div>

                      <!-- Respuesta del asistente (ejemplo) -->
                      <div class="chat-message assistant-message mb-4 new">
                        <div
                          class="message-bubble"
                          style="
                            background: #e7e8eb;
                            color: black;
                            padding: 15px;
                            border-radius: 15px;
                            max-width: 80%;
                            margin-left: 0;
                          "
                        >
                          <div
                            class="message-header"
                            style="font-weight: bold; margin-bottom: 5px"
                          >
                            <i class="ti-robot"></i> Asistente RRHH
                          </div>
                          <div class="message-content">
                            ¬°Por supuesto! Actualmente tienes
                            <strong>247 empleados activos</strong> en la
                            empresa. <br /><br />
                            Desglose por departamentos:
                            <br />
                            ‚Ä¢ Producci√≥n: 85 empleados<br />
                            ‚Ä¢ Ventas: 45 empleados<br />
                            ‚Ä¢ IT: 35 empleados<br />
                            ‚Ä¢ Marketing: 42 empleados<br />
                            ‚Ä¢ Calidad: 40 empleados
                          </div>
                          <div
                            class="message-time"
                            style="
                              font-size: 11px;
                              opacity: 0.8;
                              margin-top: 5px;
                            "
                          >
                            <span class="time">10:32 AM</span>
                          </div>
                        </div>
                      </div>

                      <!-- Indicador de que la IA est√° escribiendo -->
                      <div class="typing-indicator mb-4" id="typingIndicator">
                        <div class="typing-dots">
                          <span></span>
                          <span></span>
                          <span></span>
                        </div>
                      </div>
                    </div>

                    <!-- √Årea de escritura -->
                    <div class="chat-input mt-4" style="flex-shrink: 0">
                      <div class="input-group">
                        <input
                          type="text"
                          class="form-control"
                          id="messageInput"
                          placeholder="Escribe tu mensaje aqu√≠..."
                          style="
                            border: 1px solid #e7e8eb;
                            border-radius: 25px;
                            padding: 15px 20px;
                          "
                        />
                        <div class="input-group-append">
                          <button
                            class="btn btn-primary"
                            id="sendButton"
                            type="button"
                            style="
                              background: #e7e8eb;
                              border-color: #e7e8eb;
                              border-radius: 25px;
                              padding: 15px 25px;
                            "
                          >
                            <i class="ti-arrow-right"></i>
                          </button>
                        </div>
                      </div>
                      <div class="suggestions mt-2 text-center">
                        <small class="text-muted">Sugerencias r√°pidas: </small>
                        <button
                          class="btn btn-outline-light mx-1 suggestion-btn"
                          style="border-color: #e7e8eb; color: black"
                          data-question="¬øCu√°l es el estado de las n√≥minas?"
                        >
                          Estado n√≥minas
                        </button>
                        <button
                          class="btn btn-outline-light mx-1 suggestion-btn"
                          style="border-color: #e7e8eb; color: black"
                          data-question="¬øHay nuevas contrataciones?"
                        >
                          Contrataciones
                        </button>
                        <button
                          class="btn btn-sm btn-outline-light mx-1 suggestion-btn"
                          style="border-color: #e7e8eb; color: black"
                          data-question="¬øQu√© formaciones hay programadas?"
                        >
                          Formaciones
                        </button>
                        <button
                          class="btn btn-sm btn-outline-light mx-1 suggestion-btn"
                          style="border-color: #e7e8eb; color: black"
                          data-question="¬øCu√°ntas bajas m√©dicas hay activas?"
                        >
                          Bajas m√©dicas
                        </button>
                        <button
                          class="btn btn-sm btn-outline-light mx-1 suggestion-btn"
                          style="border-color: #e7e8eb; color: black"
                          data-question="¬øCu√°ntos empleados hay por departamento?"
                        >
                          Por departamento
                        </button>
                        <!-- A√±ade este bot√≥n adicional -->
                        <button
                          class="btn btn-sm btn-outline-light mx-1 suggestion-btn"
                          style="border-color: #e7e8eb; color: black"
                          data-question="¬øCu√°ntos empleados activos hay?"
                        >
                          Empleados activos
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--**********************************
            Content body end
        ***********************************-->

      <!--**********************************
            Footer start
        ***********************************-->
      <div class="footer">
        <div class="copyright">
          <div class="d-flex align-items-center justify-content-center">
            <p class="mb-0">¬© 2026 Deoleo S.A. - Sistema de Recursos Humanos</p>
          </div>
          <p class="mt-2 mb-0">
            <small>
              <a href="#" style="color: #0f5c00">Pol√≠tica de Privacidad</a> |
              <a href="#" style="color: #0f5c00">Aviso Legal</a>
            </small>
          </p>
        </div>
      </div>
      <!--**********************************
            Footer end
        ***********************************-->

      <!--**********************************
           Support ticket button start
        ***********************************-->

      <!--**********************************
           Support ticket button end
        ***********************************-->
    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->
    <script src="./vendor/global/global.min.js"></script>
    <script src="./js/quixnav-init.js"></script>
    <script src="./js/custom.min.js"></script>

    <script src="./vendor/chartist/js/chartist.min.js"></script>

    <script src="./vendor/moment/moment.min.js"></script>
    <script src="./vendor/pg-calendar/js/pignose.calendar.min.js"></script>

    <script src="./js/dashboard/dashboard-2.js"></script>

    <!-- Script para el chat interactivo -->
    <script>
      // Base de conocimiento de la IA
      // Base de conocimiento de la IA
      const knowledgeBase = {
        // Empleados - Respuesta con tabla
        "empleados activos": {
          respuesta: `
      Actualmente hay <strong>247 empleados activos</strong> en la empresa.
      
      <div class="chat-table">
        <table>
          <thead>
            <tr>
              <th>Departamento</th>
              <th>Empleados</th>
              <th>Porcentaje</th>
              <th>Tendencia</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Producci√≥n</td>
              <td>85</td>
              <td>34.4%</td>
              <td><span class="mini-chart chart-green">‚Üë</span> +5%</td>
            </tr>
            <tr>
              <td>Ventas</td>
              <td>45</td>
              <td>18.2%</td>
              <td><span class="mini-chart chart-green">‚Üë</span> +2%</td>
            </tr>
            <tr>
              <td>IT</td>
              <td>35</td>
              <td>14.2%</td>
              <td><span class="mini-chart chart-blue">‚Üí</span> 0%</td>
            </tr>
            <tr>
              <td>Marketing</td>
              <td>42</td>
              <td>17.0%</td>
              <td><span class="mini-chart chart-green">‚Üë</span> +3%</td>
            </tr>
            <tr>
              <td>Calidad</td>
              <td>40</td>
              <td>16.2%</td>
              <td><span class="mini-chart chart-red">‚Üì</span> -1%</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <small><em>Datos actualizados al ${new Date().toLocaleDateString()}</em></small>
    `,
        },

        // Formaciones - Respuesta con gr√°fico
        formaciones: {
          respuesta: `
      <strong>üìä Formaciones Programadas - Pr√≥ximos 3 meses</strong>
      
      <div class="chat-chart">
        <div class="chart-container">
          <div class="chart-title">Participaci√≥n por Departamento</div>
          
          <div class="chart-bar">
            <div class="chart-label">Ventas (85%)</div>
            <div class="chart-bar-value" style="width: 85%">
              <span class="chart-value-text">42 empleados</span>
            </div>
          </div>
          
          <div class="chart-bar">
            <div class="chart-label">IT (75%)</div>
            <div class="chart-bar-value" style="width: 75%">
              <span class="chart-value-text">26 empleados</span>
            </div>
          </div>
          
          <div class="chart-bar">
            <div class="chart-label">Marketing (65%)</div>
            <div class="chart-bar-value" style="width: 65%">
              <span class="chart-value-text">27 empleados</span>
            </div>
          </div>
          
          <div class="chart-bar">
            <div class="chart-label">Producci√≥n (45%)</div>
            <div class="chart-bar-value" style="width: 45%">
              <span class="chart-value-text">38 empleados</span>
            </div>
          </div>
          
          <div class="chart-bar">
            <div class="chart-label">Calidad (40%)</div>
            <div class="chart-bar-value" style="width: 40%">
              <span class="chart-value-text">16 empleados</span>
            </div>
          </div>
        </div>
      </div>
      
      <strong>Pr√≥ximas formaciones destacadas:</strong><br>
      ‚Ä¢ Liderazgo Efectivo (20-21 julio) - 15 plazas<br>
      ‚Ä¢ Seguridad Inform√°tica (25-26 julio) - 20 plazas<br>
      ‚Ä¢ Gesti√≥n del Tiempo (1-2 agosto) - 25 plazas
    `,
        },

        // N√≥minas - Respuesta con tabla detallada
        "estado n√≥minas": {
          respuesta: `
      <strong>üí∞ Estado de N√≥minas - Mes de Junio</strong>
      
      <div class="chat-table">
        <table>
          <thead>
            <tr>
              <th>Estado</th>
              <th>Cantidad</th>
              <th>Importe Total</th>
              <th>Progreso</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><span class="mini-chart chart-green">‚úì</span> Pagadas</td>
              <td>235</td>
              <td>‚Ç¨1,180,500</td>
              <td>95%</td>
            </tr>
            <tr>
              <td><span class="mini-chart chart-orange">‚è≥</span> Pendientes</td>
              <td>12</td>
              <td>‚Ç¨64,820</td>
              <td>5%</td>
            </tr>
            <tr>
              <td><span class="mini-chart chart-red">‚úó</span> Con errores</td>
              <td>3</td>
              <td>‚Ç¨15,200</td>
              <td>1.2%</td>
            </tr>
            <tr style="font-weight: bold; background-color: #e8f5e8;">
              <td>TOTAL</td>
              <td>250</td>
              <td>‚Ç¨1,260,520</td>
              <td>100%</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <strong>Pr√≥ximos vencimientos:</strong><br>
      ‚Ä¢ Pago de n√≥minas: 30 de julio<br>
      ‚Ä¢ Declaraciones fiscales: 20 de julio<br>
      ‚Ä¢ Pagos a la Seguridad Social: 25 de julio
    `,
        },

        // Vacaciones - Respuesta con gr√°fico de barras
        "vacaciones pendientes": {
          respuesta: `
      <strong>üèñÔ∏è Vacaciones Pendientes de Aprobaci√≥n</strong>
      
      <div class="chat-chart">
        <div class="chart-container">
          <div class="chart-title">Solicitudes por Departamento</div>
          
          <div class="chart-bar">
            <div class="chart-label">Ventas (8)</div>
            <div class="chart-bar-value" style="width: 80%">
              <span class="chart-value-text">8 solicitudes</span>
            </div>
          </div>
          
          <div class="chart-bar">
            <div class="chart-label">IT (6)</div>
            <div class="chart-bar-value" style="width: 60%">
              <span class="chart-value-text">6 solicitudes</span>
            </div>
          </div>
          
          <div class="chart-bar">
            <div class="chart-label">Marketing (5)</div>
            <div class="chart-bar-value" style="width: 50%">
              <span class="chart-value-text">5 solicitudes</span>
            </div>
          </div>
          
          <div class="chart-bar">
            <div class="chart-label">Producci√≥n (4)</div>
            <div class="chart-bar-value" style="width: 40%">
              <span class="chart-value-text">4 solicitudes</span>
            </div>
          </div>
          
          <div class="chart-bar">
            <div class="chart-label">Calidad (3)</div>
            <div class="chart-bar-value" style="width: 30%">
              <span class="chart-value-text">3 solicitudes</span>
            </div>
          </div>
        </div>
      </div>
      
      <strong>Solicitudes urgentes (esta semana):</strong><br>
      1. Laura M√©ndez (Marketing) - 5 d√≠as<br>
      2. Carlos Ruiz (IT) - 3 d√≠as<br>
      3. Ana Torres (Ventas) - 7 d√≠as
    `,
        },

        // Bajas m√©dicas - Respuesta con tabla y mini gr√°fico
        "bajas m√©dicas": {
          respuesta: `
      <strong>üè• Bajas M√©dicas Activas</strong>
      
      <div class="chat-table">
        <table>
          <thead>
            <tr>
              <th>Empleado</th>
              <th>Departamento</th>
              <th>Tipo</th>
              <th>Inicio</th>
              <th>Fin Estimado</th>
              <th>D√≠as</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Roberto D√≠az</td>
              <td>IT</td>
              <td><span class="mini-chart chart-orange">E</span> Enfermedad</td>
              <td>01/07/2024</td>
              <td>15/07/2024</td>
              <td>14</td>
            </tr>
            <tr>
              <td>Carmen Vidal</td>
              <td>Producci√≥n</td>
              <td><span class="mini-chart chart-red">A</span> Accidente</td>
              <td>05/07/2024</td>
              <td>20/07/2024</td>
              <td>15</td>
            </tr>
            <tr>
              <td>Mar√≠a L√≥pez</td>
              <td>Marketing</td>
              <td><span class="mini-chart chart-green">F</span> Finalizada</td>
              <td>25/06/2024</td>
              <td>05/07/2024</td>
              <td>10</td>
            </tr>
            <tr>
              <td>Javier G√≥mez</td>
              <td>Ventas</td>
              <td><span class="mini-chart chart-green">F</span> Finalizada</td>
              <td>20/06/2024</td>
              <td>10/07/2024</td>
              <td>20</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div style="margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 8px;">
        <strong>Resumen:</strong><br>
        ‚Ä¢ Activas: 2 bajas<br>
        ‚Ä¢ Finalizadas (√∫ltimo mes): 5 bajas<br>
        ‚Ä¢ Promedio de duraci√≥n: 12 d√≠as<br>
        ‚Ä¢ Coste estimado: ‚Ç¨8,500
      </div>
    `,
        },

        // Contrataciones - Respuesta con tabla de seguimiento
        contrataciones: {
          respuesta: `
      <strong>üìã Proceso de Contrataci√≥n Activo</strong>
      
      <div class="chat-table">
        <table>
          <thead>
            <tr>
              <th>Posici√≥n</th>
              <th>Departamento</th>
              <th>Estado</th>
              <th>Candidatos</th>
              <th>Progreso</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Desarrollador Full-Stack</td>
              <td>IT</td>
              <td><span class="mini-chart chart-green">F</span> Final</td>
              <td>2</td>
              <td>
                <div style="width: 100%; background-color: #e0e0e0; border-radius: 10px;">
                  <div style="width: 90%; height: 8px; background-color: #2ecc71; border-radius: 10px;"></div>
                </div>
                90%
              </td>
            </tr>
            <tr>
              <td>Representante Ventas</td>
              <td>Ventas</td>
              <td><span class="mini-chart chart-orange">E</span> Entrevistas</td>
              <td>3</td>
              <td>
                <div style="width: 100%; background-color: #e0e0e0; border-radius: 10px;">
                  <div style="width: 60%; height: 8px; background-color: #3498db; border-radius: 10px;"></div>
                </div>
                60%
              </td>
            </tr>
            <tr>
              <td>T√©cnico de Calidad</td>
              <td>Calidad</td>
              <td><span class="mini-chart chart-blue">S</span> Seleccionado</td>
              <td>1</td>
              <td>
                <div style="width: 100%; background-color: #e0e0e0; border-radius: 10px;">
                  <div style="width: 100%; height: 8px; background-color: #0f5c00; border-radius: 10px;"></div>
                </div>
                100%
              </td>
            </tr>
            <tr>
              <td>Analista Marketing</td>
              <td>Marketing</td>
              <td><span class="mini-chart chart-purple">R</span> Revisi√≥n CV</td>
              <td>15</td>
              <td>
                <div style="width: 100%; background-color: #e0e0e0; border-radius: 10px;">
                  <div style="width: 30%; height: 8px; background-color: #9b59b6; border-radius: 10px;"></div>
                </div>
                30%
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div style="margin-top: 15px;">
        <strong>üìÖ Pr√≥ximas entrevistas:</strong><br>
        ‚Ä¢ 15/07: 3 entrevistas para IT<br>
        ‚Ä¢ 16/07: 2 entrevistas para Ventas<br>
        ‚Ä¢ 18/07: 4 entrevistas para Marketing
      </div>
    `,
        },

        // ... el resto de respuestas permanecen igual o puedes modificarlas tambi√©n ...

        "empleados por departamento": {
          respuesta:
            "Distribuci√≥n de empleados por departamento:<br><br>‚Ä¢ Producci√≥n: 85 empleados<br>‚Ä¢ Ventas: 45 empleados<br>‚Ä¢ IT: 35 empleados<br>‚Ä¢ Marketing: 42 empleados<br>‚Ä¢ Calidad: 40 empleados<br>‚Ä¢ RRHH: 12 empleados<br>‚Ä¢ Finanzas: 18 empleados<br>‚Ä¢ Log√≠stica: 22 empleados",
        },

        "solicitudes de vacaciones": {
          respuesta:
            "Hay <strong>8 solicitudes de vacaciones pendientes</strong> de aprobaci√≥n.<br><br>Detalle de solicitudes:<br>‚Ä¢ Laura M√©ndez (Marketing) - 5 d√≠as (del 15 al 19 de julio)<br>‚Ä¢ Carlos Ruiz (IT) - 3 d√≠as (del 22 al 24 de julio)<br>‚Ä¢ Ana Torres (Ventas) - 7 d√≠as (del 5 al 13 de agosto)<br>‚Ä¢ Miguel √Ångel (Producci√≥n) - 10 d√≠as (del 1 al 12 de agosto)<br>‚Ä¢ Elena Castro (Calidad) - 4 d√≠as (del 8 al 11 de julio)",
        },

        n√≥minas: {
          respuesta:
            "Estado actual de n√≥minas:<br><br>‚Ä¢ Junio: Completadas (100%)<br>‚Ä¢ Julio: Programadas para el 30 de julio<br>‚Ä¢ Agosto: En preparaci√≥n<br><br>Pr√≥ximos vencimientos:<br>‚Ä¢ Pago de n√≥minas: 30 de julio<br>‚Ä¢ Declaraciones fiscales: 20 de julio<br>‚Ä¢ Pagos a la Seguridad Social: 25 de julio",
        },

        "formaciones programadas": {
          respuesta:
            "Pr√≥ximas formaciones programadas:<br><br>1. <strong>Liderazgo Efectivo</strong><br>   - Fechas: 20-21 de julio<br>   - Plazas: 15/15 (completo)<br>   - Formador: Dra. Elena Mart√≠nez<br><br>2. <strong>Seguridad Inform√°tica</strong><br>   - Fechas: 25-26 de julio<br>   - Plazas: 18/20 disponibles<br>   - Formador: Ing. Carlos L√≥pez<br><br>3. <strong>Gesti√≥n del Tiempo</strong><br>   - Fechas: 1-2 de agosto<br>   - Plazas: 22/25 disponibles<br>   - Formador: Coach Ana Torres",
        },

        incidencias: {
          respuesta:
            "Actualmente hay <strong>3 incidencias activas</strong> en el sistema:<br><br>‚Ä¢ Baja m√©dica de Roberto D√≠az (IT) - hasta el 15 de julio<br>‚Ä¢ Equipo defectuoso en Producci√≥n - reportado hoy<br>‚Ä¢ Problema de acceso al sistema de n√≥minas - resuelto<br><br>Incidencias resueltas en los √∫ltimos 7 d√≠as: 8",
        },

        // Por defecto
        default: {
          respuesta:
            'He entendido que preguntas sobre <strong>"{query}"</strong>. Como asistente de RRHH, puedo ayudarte con:<br><br>‚Ä¢ Informaci√≥n sobre empleados (activos, por departamento)<br>‚Ä¢ Estado de n√≥minas y pagos<br>‚Ä¢ Gesti√≥n de vacaciones y ausencias<br>‚Ä¢ Formaciones y desarrollo profesional<br>‚Ä¢ Procesos de contrataci√≥n<br>‚Ä¢ Incidencias y bajas m√©dicas<br><br>¬øPuedes reformular tu pregunta para que pueda darte una respuesta m√°s precisa?',
        },
      };
      // Elementos del DOM
      const chatMessages = document.querySelector(".chat-messages");
      const messageInput = document.getElementById("messageInput");
      const sendButton = document.getElementById("sendButton");
      const typingIndicator = document.getElementById("typingIndicator");
      const suggestionButtons = document.querySelectorAll(".suggestion-btn");

      // Funci√≥n para obtener la hora actual
      function getCurrentTime() {
        const now = new Date();
        let hours = now.getHours();
        let minutes = now.getMinutes();
        const ampm = hours >= 12 ? "PM" : "AM";
        hours = hours % 12;
        hours = hours ? hours : 12;
        minutes = minutes < 10 ? "0" + minutes : minutes;
        return `${hours}:${minutes} ${ampm}`;
      }

      // Funci√≥n para crear un elemento de mensaje
      function createMessageElement(content, isUser = false) {
        const messageDiv = document.createElement("div");
        messageDiv.className = `chat-message ${isUser ? "user" : "assistant"}-message mb-4 new`;

        const messageBubble = document.createElement("div");
        messageBubble.style.cssText = `
          background: ${isUser ? "#e7e8eb;" : "#E7E8EB"};
          color: ${isUser ? "#333" : "black"};
          padding: 15px;
          border-radius: 15px;
          max-width: 80%;
          ${isUser ? "margin-left: auto; margin-right: 0;" : "margin-left: 0;"}
        `;

        const messageHeader = document.createElement("div");
        messageHeader.style.cssText = `
          font-weight: bold;
          margin-bottom: 5px;
          ${isUser ? "text-align: right;" : ""}
        `;

        if (isUser) {
          messageHeader.innerHTML = 'Juan Moleres <i class="ti-user"></i>';
        } else {
          messageHeader.innerHTML = '<i class="ti-robot"></i> Asistente RRHH';
        }

        const messageContent = document.createElement("div");
        messageContent.className = "message-content";
        messageContent.innerHTML = content;

        const messageTime = document.createElement("div");
        messageTime.style.cssText = `
          font-size: 11px;
          opacity: 0.8;
          margin-top: 5px;
          ${isUser ? "text-align: right;" : ""}
        `;

        const timeSpan = document.createElement("span");
        timeSpan.className = "time";
        timeSpan.textContent = getCurrentTime();
        messageTime.appendChild(timeSpan);

        messageBubble.appendChild(messageHeader);
        messageBubble.appendChild(messageContent);
        messageBubble.appendChild(messageTime);
        messageDiv.appendChild(messageBubble);

        return messageDiv;
      }

      // Funci√≥n para desplazar al final del chat
      function scrollToBottom() {
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      // Funci√≥n para encontrar respuesta en la base de conocimiento
      function findResponse(query) {
        query = query.toLowerCase().trim();

        // Buscar coincidencias exactas o parciales
        for (const key in knowledgeBase) {
          if (query.includes(key)) {
            return knowledgeBase[key].respuesta;
          }
        }

        // Si no encuentra, usar respuesta por defecto
        return knowledgeBase.default.respuesta.replace("{query}", query);
      }

      // Funci√≥n para mostrar el indicador de escritura
      function showTypingIndicator() {
        typingIndicator.classList.add("active");
        scrollToBottom();
      }

      // Funci√≥n para ocultar el indicador de escritura
      function hideTypingIndicator() {
        typingIndicator.classList.remove("active");
      }

      // Funci√≥n para procesar el mensaje del usuario
      function processUserMessage(message) {
        // A√±adir mensaje del usuario
        const userMessageElement = createMessageElement(message, true);
        chatMessages.appendChild(userMessageElement);
        scrollToBottom();

        // Mostrar que la IA est√° escribiendo
        showTypingIndicator();

        // Simular tiempo de respuesta (1-2 segundos)
        setTimeout(
          () => {
            // Ocultar indicador de escritura
            hideTypingIndicator();

            // Obtener respuesta
            const response = findResponse(message);

            // A√±adir respuesta de la IA
            const assistantMessageElement = createMessageElement(
              response,
              false,
            );
            chatMessages.appendChild(assistantMessageElement);
            scrollToBottom();
          },
          1000 + Math.random() * 1000,
        );
      }

      // Evento para el bot√≥n de enviar
      sendButton.addEventListener("click", () => {
        const message = messageInput.value.trim();
        if (message) {
          processUserMessage(message);
          messageInput.value = "";
          messageInput.focus();
        }
      });

      // Evento para la tecla Enter
      messageInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          const message = messageInput.value.trim();
          if (message) {
            processUserMessage(message);
            messageInput.value = "";
          }
        }
      });

      // Evento para los botones de sugerencia
      suggestionButtons.forEach((button) => {
        button.addEventListener("click", () => {
          const question = button.getAttribute("data-question");
          messageInput.value = question;
          processUserMessage(question);
          messageInput.value = "";
        });
      });

      // Inicializar la hora actual en los mensajes existentes
      document.addEventListener("DOMContentLoaded", () => {
        const timeElements = document.querySelectorAll(".time");
        timeElements.forEach((el) => {
          el.textContent = getCurrentTime();
        });

        // Hacer scroll al final del chat al cargar
        setTimeout(scrollToBottom, 100);
      });
    </script>
    <!-- Circle progress -->
  </body>
</html>
